import { describe, it, expect } from "vitest";
import { parseInput } from "./parse";

describe("parse", async () => {
  it("parseInput", async () => {
    expect({
      functionName: "deposit",
      depositId: 1642083n,
      amount: 1,
      fullFee: false,
      recipientData: "0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",
      timeLock: 0n,
      tokenAddress: "0x563BbEC31968a3887B2e3e80e84640faEE54D094",
      tokenSymbol: "USDT",
    }).toEqual(
      parseInput(
        "0xf14f42220000000000000000000000000000000000000000000000000000000000190e63000000000000000000000000563bbec31968a3887b2e3e80e84640faee54d0940000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"
      )
    );
    expect({
      functionName: "submit",
      depositId: 283n,
      data: "983511b2-ac88-47c1-a425-55c2f6068867",
    }).toEqual(
      parseInput(
        "0x5d63f6c6000000000000000000000000000000000000000000000000000000000000011b0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002439383335313162322d616338382d343763312d613432352d35356332663630363838363700000000000000000000000000000000000000000000000000000000"
      )
    );
    expect({
      functionName: "approve",
      depositId: 287n,
      valueApprove: 1,
      valueAdditional: 0,
      recipient: "0x6a979F49Ca7F37d0086BB70CA71eA109E0A48ACa",
    }).toEqual(
      parseInput(
        "0xa60429c9000000000000000000000000000000000000000000000000000000000000011f0000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a979f49ca7f37d0086bb70ca71ea109e0a48aca"
      )
    );
    expect({
      functionName: "claim",
      depositId: 283n,
    }).toEqual(parseInput("0x379607f5000000000000000000000000000000000000000000000000000000000000011b"));
  });
});
